#!/bin/bash

###################################################################
# A wrapper around ipython which makes it easier to select        #
# which Python version you would like to use.                     #
###################################################################

version="$1"; shift

if [[ -n "${version}" ]]; then
    version="$(echo "${version}" | perl -nE 'print s/^([1-9])([1-9])$/\1.\2/gr')"
elif command -v eselect &> /dev/null; then
    version="$(eselect python show | perl -nE 'print s/python//gr')"
else
    version="$(python_versions | sort -u | tail -n 1)"
fi

python"${version}" -m IPython "$@"
