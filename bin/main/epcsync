#!/bin/bash

# ensure running as root
if [ "$(id -u)" != "0" ]; then
  exec sudo "$0" "$@"
fi

cd /etc/portage || exit 1

git pull
git add .
git commit -m "Update Portage Configs"
git push || notify-send "$(basename "$0")" "Portage config repository (/etc/portage) failed to sync."
