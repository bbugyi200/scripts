#!/bin/awk -f

#####################################################################
#  Parses `task projects` output to produce a list of TW projects.  #
#####################################################################

last!=m ? m="" : m="."m {}

M!="" && NR > 3 {
    printf("%s%s\n", M, m)
}

$0 ~ "^\\s+.*" ? m=$1 : M=$1 {}

{
    last=$1
}
