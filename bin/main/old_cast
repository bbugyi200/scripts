#!/bin/bash

cd /media/bryan/hercules/media/Entertainment/Videos
video_file=$(find . -name "*avi" -o -name "*mkv" | sort | rofi -p "Video File" -dmenu)

if [[ -z "$video_file" ]]; then
    exit 1
fi

cd ~/Downloads
srt_file=$(find . -name "*srt" | sort | rofi -p "Subtitles" -dmenu)

# if [[ "$video_file" == *"avi" ]]; then
#     tomp4=--tomp4
# else
#     tomp4=
# fi

if [[ "$srt_file" == *"srt" ]]; then
    subtitles=--subtitles
else
    subtitles=
fi

castnow "$video_file" --tomp4 "$subtitles" "$srt_file"
