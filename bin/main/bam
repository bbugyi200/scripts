#!/usr/bin/env python

import subprocess
import argparse

description = "Opens up a temporary terminal to run a single command."
pipe_help = "send stdout of the main command to stdin of this command"
args_help = 'main command to run'

parser = argparse.ArgumentParser(description=description)
parser.add_argument('-P', dest='pipe_cmd', help=pipe_help)
parser.add_argument('args', nargs=argparse.REMAINDER, help=args_help)
args = parser.parse_args()

if args.pipe_cmd is None:
    pipe = ''
else:
    pipe = ' | ' + args.pipe_cmd

cmdfmt = 'urxvt -name big-floater -e zsh -i -c "{}{}"'
subprocess.call(cmdfmt.format(' '.join(args.args), pipe), shell=True)
